<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
        <title>í¬ì§€ì…˜í—ˆë¸Œ</title>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LRB4GCFXXC"></script>

        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
        
            gtag('config', 'G-LRB4GCFXXC');
        </script>
        <script>

            document.addEventListener('DOMContentLoaded', function() {
                    loadTheme(); // í…Œë§ˆ ì„¤ì • ë¡œë“œ
                    toggleDisplayBasedOnWidth();
                    document.getElementById('floatingButton').addEventListener('click', showPopup);
                    document.querySelector('.close-button').addEventListener('click', hidePopup);
                });

            function loadTheme() {
                const themeSwitch = document.querySelector('#checkbox');
                // localStorageì—ì„œ í…Œë§ˆ ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì‹œìŠ¤í…œ ì„¤ì •ì„ ë”°ë¦„
                const theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                document.body.setAttribute('data-theme', theme); // ì´ˆê¸° í…Œë§ˆ ì„¤ì •
                themeSwitch.checked = (theme === 'dark'); // ìŠ¤ìœ„ì¹˜ ìƒíƒœ ì„¤ì •

                themeSwitch.addEventListener('change', function() {
                    document.body.setAttribute('data-theme', this.checked ? 'dark' : 'light');
                    localStorage.setItem('theme', this.checked ? 'dark' : 'light');
                });
            }

            function showPopup() {
                document.getElementById('tallyPopup').style.display = 'block'; // íŒì—…ì„ ë³´ì´ê²Œ ì„¤ì •
            }
        
            function hidePopup() {
                document.getElementById('tallyPopup').style.display = 'none'; // íŒì—…ì„ ìˆ¨ê¹€
            }
                // í™”ë©´ í¬ê¸°ì— ë”°ë¼ ì ì ˆí•œ ë””ìŠ¤í”Œë ˆì´ ì„¤ì •ì„ ì¡°ì •í•˜ëŠ” í•¨ìˆ˜
            function toggleDisplayBasedOnWidth() {
                if (window.innerWidth <= 768) {
                    document.getElementById('jobGallery').style.display = 'flex';
                    document.getElementById('jobTable').style.display = 'none';
                    document.getElementById('filterman').style.display = 'none';
                } else {
                    document.getElementById('jobGallery').style.display = 'none';
                    document.getElementById('jobTable').style.display = 'table';
                    document.getElementById('filterman').style.display = 'block';
                }
            }

                    // DOMì´ ë¡œë“œë˜ì—ˆì„ ë•Œì™€ ì°½ í¬ê¸°ê°€ ë³€ê²½ë  ë•Œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
            window.addEventListener('DOMContentLoaded', toggleDisplayBasedOnWidth);
            window.addEventListener('resize', toggleDisplayBasedOnWidth);


            // window.onload = function() {

            //     toggleDisplayBasedOnWidth();
            //     document.getElementById('floatingButton').addEventListener('click', showPopup);        
            //     document.querySelector('.close-button').addEventListener('click', hidePopup);
            // };

                    // í…Œë§ˆ ì„¤ì • ë¡œë“œ í•¨
        </script>
        
        <style>

            
            html, body {
                padding: 0;
                margin: 0;
            }

            main.container {
                max-width: 1400px;
                min-height: 100vh;
                margin: auto; /*ê°€ìš´ë°ì •ë ¬*/
                
            }

            /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
            .sortable {
                cursor: pointer;
            }

            .sortable::after {
                content: ' \25B2';
            }
            .sortable.desc::after {
                content: ' \25BC';
            }

            thead th {
                position: sticky;
                top: 0;
                background-color: #fff;
                z-index: 10;
            }

            thead th::before {
                content: '';
                position: absolute;
                left: 0;
                bottom: -1px; /* í…Œë‘ë¦¬ë¥¼ ì…€ì˜ í•˜ë‹¨ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤. */
                width: 100%;
                border-bottom: 2px solid #000; /* í•˜ë‹¨ì— ê²€ì€ìƒ‰ í…Œë‘ë¦¬ ì¶”ê°€ */
                z-index: -1;
            }
            
            .odd-row {
                background-color: #FFFFFF;
            }
            .even-row {
                background-color: #FAF6F3;
            }

            body[data-theme='dark'] thead th {
                background-color: #333; /* ë˜ëŠ” ì›í•˜ëŠ” ë‹¤í¬ ëª¨ë“œ ë°°ê²½ìƒ‰ */
            }

            /* ë‹¤í¬ ëª¨ë“œì—ì„œ í…Œì´ë¸” ë³¸ë¬¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
            body[data-theme='dark'] tbody td {
                color: #fff; /* ë°±ìƒ‰ í…ìŠ¤íŠ¸ */
            }

            body[data-theme='dark'] .odd-row {
                background-color: #2C2C2E; /* ë‹¤í¬ëª¨ë“œì— ì í•©í•œ ë” ì–´ë‘ìš´ ìƒ‰ */
            }
            body[data-theme='dark'] .even-row {
                background-color: #3A3A3C; /* ë‹¤í¬ëª¨ë“œì— ì í•©í•œ ìƒ‰, í™€ìˆ˜ í–‰ë³´ë‹¤ ì•½ê°„ ë°ìŒ */
            }
                /* ë‹¤í¬ ëª¨ë“œì—ì„œ í•„í„° ë©”ë‰´ì˜ ë°°ê²½ìƒ‰ ë³€ê²½ */
            body[data-theme='dark'] .filter-menu {
                background-color: #333; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ ë°°ê²½ìƒ‰ */
                color: #fff; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            }

            /* ë‹¤í¬ ëª¨ë“œì—ì„œ ê°¤ëŸ¬ë¦¬ ë°•ìŠ¤ ë°°ê²½ìƒ‰ ë³€ê²½ */
            body[data-theme='dark'] .job-card {
                background-color: #2C2C2E; /* ë‹¤í¬ ëª¨ë“œì— ì í•©í•œ ë°°ê²½ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
                color: #fff; /* ë‹¤í¬ ëª¨ë“œì— ì í•©í•œ í…ìŠ¤íŠ¸ ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ */
            }

            body[data-theme='dark'] .job-card:hover {
                background-color: #3A3A3C; /* í˜¸ë²„ ìƒíƒœì—ì„œì˜ ë°°ê²½ìƒ‰ ë³€ê²½ */
            }
            /* í•„í„° ê²€ìƒ‰ ì…ë ¥ í•„ë“œì˜ ë°°ê²½ìƒ‰ê³¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒì„ ë‹¤í¬ ëª¨ë“œì— ë§ê²Œ ì¡°ì • */
            body[data-theme='dark'] .filter-search input {
                background-color: #424242; /* ì…ë ¥ í•„ë“œì˜ ë°°ê²½ìƒ‰ */
                color: #fff; /* ì…ë ¥ í•„ë“œì˜ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
                border-color: #575757; /* ì…ë ¥ í•„ë“œì˜ í…Œë‘ë¦¬ ìƒ‰ìƒ */
            }

            /* ë‹¤í¬ ëª¨ë“œì—ì„œ ë„ë©”ì¸ í•„í„° ë°°ê²½ìƒ‰ ë³€ê²½ */
            body[data-theme='dark'] .filter-menu {
                background-color: #333; /* ë˜ëŠ” ì›í•˜ëŠ” ë‹¤í¬ ëª¨ë“œ ë°°ê²½ìƒ‰ */
            }

            input[type="checkbox"] {
                accent-color: #4CAF50; /* ì²´í¬ë°•ìŠ¤ ìƒ‰ìƒ ë³€ê²½ */
            }

            table {
                width: 100%; /* ì¡°ì •ëœ í…Œì´ë¸” ë„ˆë¹„ */
                margin-left: auto;
                margin-right: auto;
                table-layout: fixed;
            }

            /* ëª¨ë“  í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
            body,  td, p, a, input, button, label { /* ëª¨ë“  ê´€ë ¨ ìš”ì†Œë¥¼ í¬í•¨ì‹œí‚´ */
                font-size: 0.75rem; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ í¬ê¸° ì„¤ì • */
            }
            
            th {font-size: 0.85rem;}


            /* ì œëª©ì˜ í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
            h1, h2, h3 {
                font-size: 1.5rem; /* ì œëª© í…ìŠ¤íŠ¸ í¬ê¸° */
            }

            th, td {
                padding: 3px;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                text-align: center; /* ì¢Œìš° ì •ë ¬ ê¸°ë³¸ê°’ */
                border-bottom: 1px solid #dddddd;
                border-top: 1px solid #dddddd;
            }
            tr:hover {
                background-color: #f5f5f5;
            }
    
            /* 'ìš”êµ¬ ê²½ë ¥' ì¹¼ëŸ¼ í…ìŠ¤íŠ¸ ì¢Œìš° ì¤‘ì•™ ì •ë ¬ */
            td.col-experience {
                text-align: center;
            }

            #jobTable th {
                padding-top: 15px; /* ì…€ ìƒë‹¨ íŒ¨ë”© */
                padding-bottom: 15px; /* ì…€ í•˜ë‹¨ íŒ¨ë”© */
                height: 80px; /* ì…€ì˜ ë†’ì´ë¥¼ 50pxë¡œ ì„¤ì • */

            }

            #jobTable td{
                padding-top: 15px; /* ì…€ ìƒë‹¨ íŒ¨ë”© */
                padding-bottom: 15px; /* ì…€ í•˜ë‹¨ íŒ¨ë”© */
                height: 70px; /* ì…€ì˜ ë†’ì´ë¥¼ 50pxë¡œ ì„¤ì • */

            }


    
            /* ë„ë©”ì¸ í•„í„° ìŠ¤íƒ€ì¼ */
            #domainFilter {
                background-color: var(--filter-background);
                color: var(--filter-text-color);    
                display: flex;
                flex-wrap: wrap;
                overflow-x: auto;
                overflow-y: hidden;
                padding: 10px 0;
                border-bottom: 1px solid #eee;
            }
            #domainFilter label {
                margin-right: 15px;
                white-space: nowrap;
                color: #000000; /* ë¼ì´íŠ¸ ëª¨ë“œì—ì„œëŠ” ê²€ì •ìƒ‰ í…ìŠ¤íŠ¸ */
            }

            thead th {
                background-color: #ffffff; /* ë¼ì´íŠ¸ ëª¨ë“œì—ì„œì˜ ì¹¼ëŸ¼ë°” ë°°ê²½ìƒ‰ */
            }

            /* ë‹¤í¬ ëª¨ë“œ ìŠ¤íƒ€ì¼ */
            body[data-theme='dark'] #jobTable th,
            body[data-theme='dark'] #jobTable td,
            body[data-theme='dark'] #domainFilter label {
                color: #ffffff; /* ë‹¤í¬ ëª¨ë“œì—ì„œëŠ” ë°±ìƒ‰ í…ìŠ¤íŠ¸ */
            }

            body[data-theme='dark'] thead th {
                background-color: #333333; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ ì¹¼ëŸ¼ë°” ë°°ê²½ìƒ‰, ì–´ë‘ìš´ ìƒ‰ìœ¼ë¡œ ì¡°ì • */
            }
                /* í…Œì´ë¸” í–‰ì— ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ - ë‹¤í¬ëª¨ë“œ */
            body[data-theme='dark'] #jobTable tr:hover {
                background-color: #424242; /* ì–´ë‘ìš´ íšŒìƒ‰ìœ¼ë¡œ í˜¸ë²„ ë°°ê²½ìƒ‰ ì„¤ì • */
            }
                    /* ë‹¤í¬ ëª¨ë“œ ìŠ¤íƒ€ì¼ */
            body[data-theme='dark'] {
                --background-color: #121212; /* ë‹¤í¬ ëª¨ë“œ ë°°ê²½ìƒ‰ */
                --text-color: #ffffff; /* ë‹¤í¬ ëª¨ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
                --filter-background: #333333; /* ë‹¤í¬ ëª¨ë“œì—ì„œ í•„í„° ë°°ê²½ìƒ‰ */
                --filter-text-color: #ffffff; /* ë‹¤í¬ ëª¨ë“œì—ì„œ í•„í„° í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            }

            #domainFilter input[type="checkbox"] {
                margin-right: 5px;
            }
            
            /* í…Œì´ë¸” ë³¸ë¬¸ ë‚´ì˜ 'íšŒì‚¬ëª…'ê³¼ 'í¬ì§€ì…˜' ì¹¼ëŸ¼ ì…€ í…ìŠ¤íŠ¸ ë³¼ë“œì²´ë¡œ ì„¤ì • */
            #jobTable tbody .col-company,
            #jobTable tbody .col-role {
                font-weight: bold; /* ë³¼ë“œì²´ ìŠ¤íƒ€ì¼ ì ìš© */
            }


            
    
            /* ì—´ ë„ˆë¹„ ì„¤ì • */
            .col-experience { width: 10%; }
            .col-company { width: 15%; }
            .col-domain { width: 15%; }
            .col-role { width: 20%; }
            .col-service { width: 30%; }
            .col-type { width: 5%; }
            .col-deadline { width: 7.5%; }
            .col-registration { width: 7.5%; }

            body {
                --background-color: #ffffff; /* ë¼ì´íŠ¸ ëª¨ë“œ ë°°ê²½ìƒ‰ */
                --text-color: #000000; /* ë¼ì´íŠ¸ ëª¨ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
                --filter-background: #f0f0f0; /* í•„í„° ë°°ê²½ìƒ‰ */
                --filter-text-color: #000000; /* í•„í„° í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
                background-color: var(--background-color);
                color: var(--text-color);
            }

            @media (prefers-color-scheme: dark) {
                body {
                    --background-color: #121212; /* ë‹¤í¬ëª¨ë“œ ë°°ê²½ìƒ‰ */
                    --text-color: #ffffff; /* ë‹¤í¬ëª¨ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
                }
            }

            body {
                background-color: var(--background-color);
                color: var(--text-color);
            }
            .theme-switch-wrapper {
                position: absolute;
                top: 10px;
                right: 10px;
                display: inline-block;
                z-index: 9999;
            }

            .theme-switch {
                display: inline-block;
                height: 24px;
                position: relative;
                width: 48px;
            }

            .theme-switch input {display:none;
            }

            .slider {
                background-color: #ccc;
                bottom: 0;
                cursor: pointer;
                left: 0;
                position: absolute;
                right: 0;
                top: 0;
                transition: .4s;
                border-radius: 24px;
            }

            .slider:before {
                position: relative;
                content: "";
                height: 20px;
                width: 20px;
                left: 4px;
                bottom: 2px;
                background-color: rgb(225, 1, 1);
                transition: .4s;
                border-radius: 50%;
            }

            input:checked + .slider {
                background-color: #4c4c4c;
            }

            .slider.round {
                border-radius: 34px;
            }

            .slider.round:before {
                border-radius: 50%;
            }

            /* ìŠ¤ìœ„ì¹˜ ìŠ¤íƒ€ì¼ ì¡°ì • */
            .light .slider {
                background-image: linear-gradient(to right, orange , #ccc);
                background-size: 200% 100%;
                background-position: left;
            }

            .dark .slider {
                background-image: linear-gradient(to right, #ccc, #4c4c4c);
                background-size: 200% 100%;
                background-position: right;
            }

            /* ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
            .slider:after {
                content: '\2600'; /* í•´ ì•„ì´ì½˜ */
                color: white;
                display: block;
                position: absolute;
                transform: translate(-50%,-50%);
                top: 55%;
                left: 27%;
                font-size: 18px;
                transition: .4s;
            }

            input:checked + .slider:after {
                content: 'ğŸŒ™'; /* ë‹¬ ì•„ì´ì½˜ */
                color: #f1c40f;
                left: 72%;
            }

              /* ë„ë©”ì¸ íƒœê·¸ ìŠ¤íƒ€ì¼ */
            .domain-tag {
                display: inline-block;
                padding: 2px 6px;
                margin: 2px;
                font-size: 14px;
                color: #000000;
                background-color: 	#efb4f64f;
                border-radius: 4px;
                white-space: nowrap;
            }

            body[data-theme='dark'] .domain-tag {
                background-color: #375a7f; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ íƒœê·¸ ë°°ê²½ìƒ‰ */
            }

            /* 'íšŒì‚¬ëª…' ì¹¼ëŸ¼ ë‚´ í•˜ì´í¼ë§í¬ì˜ ìƒ‰ìƒì„ ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒìœ¼ë¡œ ì„¤ì • */
            #jobTable .col-company a {
                color: inherit; /* í•˜ì´í¼ë§í¬ ìƒ‰ìƒì„ ë¶€ëª¨ ìš”ì†Œë¡œë¶€í„° ìƒì†ë°›ë„ë¡ ì„¤ì • */
                text-decoration: none; /* ë°‘ì¤„ ì œê±° */
            }

            /* ë‹¤í¬ ëª¨ë“œì—ì„œ ë„ë©”ì¸ íƒœê·¸ì˜ ìŠ¤íƒ€ì¼ */
            body[data-theme='dark'] .domain-tag {
                background-color: #375a7f; /* ë°°ê²½ìƒ‰ ë³€ê²½ */
                color: #ffffff; /* í°íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
            }

            /* ë‹¤í¬ ëª¨ë“œì—ì„œ í…Œì´ë¸” ë³¸ë¬¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
            body[data-theme='dark'] #jobTable td {
                color: #ffffff; /* í°íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
            }


            /* í•˜ì´í¼ë§í¬ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œì˜ ìŠ¤íƒ€ì¼ ì„¤ì • */
            #jobTable .col-company a:hover {
                text-decoration: underline; /* ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ë°‘ì¤„ í‘œì‹œ */
            }

                    /* í…Œì´ë¸” í—¤ë”ì˜ ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ ë³¼ë“œì²´ë¡œ ì„¤ì • */
            #jobTable thead th {
                font-weight: bold; /* ë³¼ë“œì²´ ìŠ¤íƒ€ì¼ ì ìš© */
            }
            
                /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ ë° ì¶”ê°€ ìŠ¤íƒ€ì¼ */
            .layout {
                display: flex;
            }

            .filter-menu {
                background-color: #f0f0f0;
                padding: 20px;
                border-radius: 8px;
                width: 200px;
                position: sticky;
                top: 200px;
                max-height: calc(70vh);
                overflow-y: auto;
            }

                    /* í•„í„° ê²€ìƒ‰ ìŠ¤íƒ€ì¼ */
            .filter-search {
                margin-top: 1px; /* ìƒë‹¨ ì—¬ë°± ì¡°ì • */
                margin-bottom: 1px; /* ê²€ìƒ‰ í•„ë“œì™€ ì²´í¬ë°•ìŠ¤ ëª©ë¡ ì‚¬ì´ì˜ ì—¬ë°± */
            }


            .filter-search input {
                width: 100%;
                height: 40px; /* ë†’ì´ë¥¼ 30pxë¡œ ì¡°ì • */
                padding: 8px;
                margin-bottom: 5px; /* ê²€ìƒ‰ í•„ë“œ ì•„ë˜ ì—¬ë°± */
                border-radius: 4px;
                border: 1px solid #ccc;
            }

            .filter-menu h3 {
                margin-bottom: 15px;
            }

            .filter-menu label {
                display: block;
                margin-bottom: 10px;
            }

            .filter-menu input[type="checkbox"] {
                margin-right: 5px;
            }


            .main-content {
                flex-grow: 1; /* ë‚¨ì€ ê³µê°„ì„ ë©”ì¸ ì½˜í…ì¸ ê°€ ì°¨ì§€í•˜ë„ë¡ ì„¤ì • */
                padding: 20px; /* ë©”ì¸ ì½˜í…ì¸ ì˜ ë‚´ë¶€ ì—¬ë°± ì„¤ì • */
                max-width: calc(100% - 220px); /* í•„í„° ë©”ë‰´ì˜ ë„ˆë¹„ì™€ ì—¬ë°±ì„ ê³ ë ¤í•˜ì—¬ ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
            }

            /* ê°¤ëŸ¬ë¦¬ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
            .job-card {
                background: #fff;
                border: 1px solid #ddd;
                border-radius: 5px;
                margin: 10px;
                padding: 10px;
                width: calc(100% - 20px); /* ê¸°ë³¸ ë„ˆë¹„ ì„¤ì • */
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }


            /* ê°¤ëŸ¬ë¦¬ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
            .job-card:nth-child(odd) {
                background-color: #FAF6F3; /* ì§ìˆ˜ í•­ëª© ë°°ê²½ìƒ‰ */
            }

            .job-card:nth-child(even) {
                background-color: #FFFFFF; /* í™€ìˆ˜ í•­ëª© ë°°ê²½ìƒ‰ */
            }

            .job-card:hover {
                background-color: #f0f0f0; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ */
                cursor: pointer; /* ë§ˆìš°ìŠ¤ í¬ì¸í„°ë¥¼ ì†ê°€ë½ ëª¨ì–‘ìœ¼ë¡œ ë³€ê²½ */
            }

            .notice-box {
                background-color: #f9f9f9; /* ë°ì€ íšŒìƒ‰ ë°°ê²½ */
                border-left: 4px solid #007bff; /* ì™¼ìª½ì— íŒŒë€ìƒ‰ í…Œë‘ë¦¬ */
                margin: 20px 0; /* ìœ„ì•„ë˜ ë§ˆì§„ */
                padding: 15px; /* ë‚´ë¶€ íŒ¨ë”© */
                border-radius: 5px; /* ê²½ê³„ì„  ë‘¥ê¸€ê²Œ */
                color: #000; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
                word-wrap: break-word; /* ê¸´ ë‹¨ì–´ë‚˜ URLì´ ìš”ì†Œ ê²½ê³„ë¥¼ ë„˜ì–´ê°€ì§€ ì•Šë„ë¡ ì„¤ì • */
                overflow-wrap: break-word; /* í…ìŠ¤íŠ¸ê°€ ìš”ì†Œ ê²½ê³„ë¥¼ ë„˜ì–´ê°€ëŠ” ê²ƒì„ ë°©ì§€ */
                max-width: 100%; /* ìµœëŒ€ ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì •í•˜ì—¬ ìš”ì†Œê°€ ë¶€ëª¨ ì»¨í…Œì´ë„ˆë¥¼ ë„˜ì–´ì„œì§€ ì•Šë„ë¡ í•¨ */


            }

                /* íƒˆë¦¬ íŒì—… ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
            .close-button {
                padding: 10px 20px; /* ë²„íŠ¼ì˜ íŒ¨ë”© */
                font-size: 16px; /* í…ìŠ¤íŠ¸ í¬ê¸° */
                cursor: pointer; /* ë§ˆìš°ìŠ¤ í¬ì¸í„° ë³€ê²½ */
                border: none; /* í…Œë‘ë¦¬ ì œê±° */
                border-radius: 5px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
                background-color: 	#efb4f64f;
                color: rgb(0, 0, 0); /* ë²„íŠ¼ ë‚´ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
                transition: background-color 0.3s; /* ë°°ê²½ìƒ‰ ë³€í™” ì• ë‹ˆë©”ì´ì…˜ */
            }
                /* ë²„íŠ¼ í˜¸ë²„ ìƒíƒœ ìŠ¤íƒ€ì¼ */
            .close-button:hover {
                background-color: 	#efb4f64f;
            }


            .notice-box h3 {
                color: #007bff; //* íŒŒë€ìƒ‰ ì œëª© */
            }

            body[data-theme='dark'] .notice-box {
                background-color: #333; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ ë°°ê²½ìƒ‰ */
                border-left-color: #4c8ffc; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ í…Œë‘ë¦¬ ìƒ‰ìƒ */
                color: #ffffff; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            }

            body[data-theme='dark'] .notice-box h3 {
                color: #4c8ffc; /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ ì œëª© ìƒ‰ìƒ */
            }

            

            @media (max-width: 768px) {
                /* Hide the table and display the gallery view on mobile */
                #jobTable {
                    display: none;
                }
                #filterman {
                    display: none;
                }

                .job-gallery {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    padding: 10px;
                    width:100%; 
                }

                .job-card {
                    background: #fff;
                    border: 1px solid #ddd;
                    border-radius: 5px;
                    margin: 10px 0 ; 
                    padding: 10px;
                    width: 100%;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                
                }
                .job-card .job-company {
                    font-weight: bold; /* íšŒì‚¬ëª…ì„ ë³¼ë“œì²´ë¡œ í‘œì‹œ */
                }
                 .main-content {
                    width: 100%;
                }




                .job-card h3, .job-card p {
                    margin: 5px 0;
                }

                .layout {
                    display: block;
                    width:100vh;
                    flex-direction: column; /* ìš”ì†Œë“¤ì„ ì„¸ë¡œë¡œ ìŒ“ìŒ */
                    align-items: stretch; /* ìì‹ ìš”ì†Œë“¤ì´ ì»¨í…Œì´ë„ˆ ë„ˆë¹„ ì „ì²´ë¥¼ ì°¨ì§€í•˜ë„ë¡ í•¨ */
                
                }
                .notice-box {
                    padding: 10px; /* ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ íŒ¨ë”© ì¶•ì†Œ */
                    width: 100%;
                }
            }
            @media (min-width: 769px) {
                .job-gallery {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: center; /* ì¹´ë“œë¥¼ ì¤‘ì•™ì— ìœ„ì¹˜ì‹œí‚´ */
                    padding: 10px;
                }

                .job-card {
                    background: #fff;
                    border: 1px solid #ddd;
                    border-radius: 5px;
                    margin: 10px;
                    padding: 10px;
                    width: calc(100% - 20px); /* ì›¹ í™˜ê²½ì—ì„œ ê°¤ëŸ¬ë¦¬ ì¹´ë“œ ë„ˆë¹„ë¥¼ ì¡°ì • */
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }

                .job-card h3, .job-card p {
                    margin: 5px 0;
                }
            }


            /* ë¼ì´íŠ¸ ëª¨ë“œì—ì„œì˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
            body[data-theme='light'] #floatingButton .popupButton {
                background-color: 	#efb4f64f;
                color: rgb(0, 0, 0);
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                text-align: center;
                font-size: 16px;
                cursor: pointer;
            }

            /* ë‹¤í¬ ëª¨ë“œì—ì„œì˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
            body[data-theme='dark'] #floatingButton .popupButton {
                background-color: 	#efb4f64f;
                color: #ffffff;
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                text-align: center;
                font-size: 16px;
                cursor: pointer;
            }

            /* ë¼ì´íŠ¸ ëª¨ë“œì—ì„œ ë¡œë”© ì¸ë””ì¼€ì´í„° í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            body[data-theme='light'] #loadingIndicator {
                color: #000; /* ê²€ì€ìƒ‰ */
            }

            /* ë‹¤í¬ ëª¨ë“œì—ì„œ ë¡œë”© ì¸ë””ì¼€ì´í„° í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            body[data-theme='dark'] #loadingIndicator {
                color: #fff; /* í°ìƒ‰ */
            }
            





        </style>
        
    </head>
<body>
<main class="container">
         <!-- í…Œë§ˆ ì „í™˜ ë²„íŠ¼ -->
    <div class="theme-switch-wrapper">
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
            
        </label>
    </div>
        <!-- Add inside the <body> tag, after the <main> tag -->

    <div class="layout"> <!-- ìƒˆë¡œìš´ ë ˆì´ì•„ì›ƒ ì»¨í…Œì´ë„ˆ ì¶”ê°€ -->
        <!-- ìƒˆë¡œìš´ í•„í„°ë§ ë©”ë‰´ -->
        <aside class="filter-menu" id="filterman">
            <h3></h3>
            <div class="filter-search">
                <input type="text" id="domainSearch" placeholder="ë„ë©”ì¸ ê²€ìƒ‰...">
            </div>
            <div id="domainFilter">
                <!-- ë„ë©”ì¸ í•„í„°ë§ ì²´í¬ë°•ìŠ¤ë“¤ì´ ì—¬ê¸°ì— ìœ„ì¹˜ -->
            </div>
            <!-- ì¶”ê°€ì ì¸ í•„í„°ë§ ì˜µì…˜ì„ ì—¬ê¸°ì— ë°°ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ -->
        </aside>
        <div class="main-content">
            <h2>PM, PO, ì„œë¹„ìŠ¤ ê¸°íš</h2>   
            <div class="notice-box">
                <h3>ê³µì§€ì‚¬í•­</h3>
                <p> 
                    - ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë„ í¸íˆ ë³´ì‹¤ ìˆ˜ ìˆë„ë¡, ë°˜ì‘í˜• ì›¹ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤! <br>
                      ë” ë¹ ë¥´ê²Œ, ë” ë‚˜ì€ ê²½í—˜ì„ í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤!<br>
                      <br>
                      
                    - Job Descriptionì„ ê¸°ë°˜ìœ¼ë¡œ PM, PO, ì„œë¹„ìŠ¤ê¸°íš ì§ë¬´ ê³µê³ ë¥¼ ì˜¬ë ¤ë“œë¦½ë‹ˆë‹¤.<br>
                    <br>
                    - í•´ë‹¹ í˜ì´ì§€ëŠ” í‰ì¼ ì˜¤ì „ 8ì‹œì— ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤. <br>
                    <br>
                    - â€˜ê·¸ë£¹ë°”ì´, ë¡œì¼“í€ì¹˜, ë¦¬ë©¤ë²„, ë§ì»¤ë¦¬ì–´, ë§í¬ë“œì¸, ìŠˆí¼ë£¨í‚¤, ì›í‹°ë“œ, ì¸ë””ìŠ¤ì›Œí¬, ì¡ì½”ë¦¬ì•„â€™ì˜ ê³µê³ ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. <br>
                    </p>
            </div>  
            <table id="jobTable">
                <thead>
                    <tr>
                        <th class="col-experience sortable" onclick="sortTable('req', this)">ìš”êµ¬ ê²½ë ¥</th>
                        <th class="col-role">í¬ì§€ì…˜</th>
                        <th class="col-domain">ë„ë©”ì¸</th>
                        <th class="col-company">íšŒì‚¬ëª…</th>
                        <th class="col-service">ì„œë¹„ìŠ¤ì†Œê°œ</th>
                        <th class="col-type">êµ¬ë¶„</th>
                        <th class="col-deadline sortable" onclick="sortTable('deadline', this)">ë§ˆê°ì¼</th>
                        <th class="col-registration sortable" onclick="sortTable('upload', this)">ë“±ë¡ì¼</th>                <th class="col-status">ìƒíƒœ</th> <!-- 'ìƒíƒœ' ì¹¼ëŸ¼ ì¶”ê°€ -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Table rows will be added here dynamically -->
                </tbody>
            </table>
            <!-- í”Œë¡œíŒ… ì•„ì´ì½˜ -->
            <!-- íŒì—… ë²„íŠ¼ -->
            <div id="floatingButton" style="position: fixed; bottom: 20px; right: 20px; cursor: pointer; z-index: 1000;">
                <button class="popupButton">ì•„ì‰¬ìš´ ì ì„ ì•Œë ¤ì£¼ì„¸ìš”!!</button>
            </div>

            <!-- íŒì—… ì°½ -->
            <div id="tallyPopup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1001; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                <iframe src="https://tally.so/embed/3ExR7o?hideTitle=1&transparentBackground=1" width="100%" height="230px" frameborder="0" marginheight="0" marginwidth="0"></iframe>
            <!-- íŒì—… í•˜ë‹¨ì— ë‹«ê¸° ë²„íŠ¼ ë°°ì¹˜ -->
                <div style="text-align: center; margin-top: 20px;"> <!-- ë‹«ê¸° ë²„íŠ¼ì„ ì¤‘ì•™ì— ë°°ì¹˜í•˜ê¸° ìœ„í•œ div -->
                    <button onclick="document.getElementById('tallyPopup').style.display='none'" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"class="close-button">ë‹«ê¸°</button>
                </div>
            </div>

            <div id="loadingIndicator" style="text-align: center; padding: 20px;">
                ë°ì´í„° ë¡œë”© ì¤‘...
            </div>



            <div class="job-gallery" id="jobGallery">
                <!-- Dynamic job cards will be injected here -->
            </div>
        
        </div>
    </div>
</main>

<script>
    let jobs = []; // ì§ë¬´ ëª©ë¡ì„ ì €ì¥í•  ë°°ì—´
    let offset = ''; // Airtable í˜ì´ì§•ì„ ìœ„í•œ offset
    let sortState = { column: 'upload', descending: true, secondary: 'req', secondaryDescending: false };
    let filteredJobs = []; // í•„í„°ë§ëœ ì§ë¬´ ëª©ë¡ 

    async function loadJobs() {
        showLoadingIndicator(true); // ë°ì´í„° ë¡œë”© ì‹œì‘ ì‹œ ë¡œë”© ì¸ë””ì¼€ì´í„° í‘œì‹œ
        while (true) {
            let url = 'https://api.airtable.com/v0/appGqJMnNREJGBKYC/tblLEsxIMpyNLzC0f';
            if (offset) {
                url += `?offset=${offset}`;
            }

            const response = await fetch(url, {
                headers: {
                    'Authorization': 'Bearer patPsY922o9pY6sCf.2941517f892241b4df8dd4f0cdfe30e079276e1bf83ea01c75e3398eb2f0a072'
                }
            });
            const data = await response.json();
            console.log("API Response:",data);

            let newJobs = data.records.filter(record => record.fields['statu'] === 'open');
            jobs = jobs.concat(newJobs);

            offset = data.offset || '';
            if (!offset) break; // ë” ì´ìƒ ë¡œë“œí•  ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ë°˜ë³µ ì¢…ë£Œ
        }

        showLoadingIndicator(false); // ë°ì´í„° ë¡œë”© ì™„ë£Œ ì‹œ ë¡œë”© ì¸ë””ì¼€ì´í„° ìˆ¨ê¹€

        filteredJobs = jobs.slice(); // ì´ˆê¸° í•„í„°ë§ëœ ëª©ë¡ì€ ì „ì²´ ì§ë¬´ ëª©ë¡ê³¼ ë™ì¼
        generateDomainFilters();
        sortAndRenderTable(); // ë°ì´í„° ì •ë ¬ ë° í•„í„°ë§ëœ í…Œì´ë¸”ì— ë Œë”ë§
        renderGallery();
    }
    function showLoadingIndicator(show) {
        const loadingIndicator = document.getElementById('loadingIndicator');
        loadingIndicator.style.display = show ? 'block' : 'none';
    }
    function generateDomainFilters() {
        const domainSet = new Set(); // ê³ ìœ í•œ ë„ë©”ì¸ ê°’ì„ ì €ì¥í•  Set ê°ì²´ ìƒì„±

        // ëª¨ë“  ì‘ì—… í•­ëª©ì— ëŒ€í•´ ë°˜ë³µí•˜ë©° ë„ë©”ì¸ ê°’ì„ Setì— ì¶”ê°€
        jobs.forEach(job => {
            if (job.fields['domain']) {
                // ë„ë©”ì¸ ê°’ì´ ë°°ì—´ì¸ ê²½ìš° ëª¨ë“  í•­ëª©ì„ ì¶”ê°€, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë‹¨ì¼ ê°’ì„ ì¶”ê°€
                if (Array.isArray(job.fields['domain'])) {
                    job.fields['domain'].forEach(domain => domainSet.add(domain));
                } else {
                    domainSet.add(job.fields['domain']);
                }
            }
        });

        const sortedDomains = Array.from(domainSet).sort();
        
        const domainFilterDiv = document.getElementById('domainFilter');
        domainFilterDiv.innerHTML = ''; // í•„í„°ë§ ì˜ì—­ ì´ˆê¸°í™”

        // Setì— ì €ì¥ëœ ëª¨ë“  ë„ë©”ì¸ì— ëŒ€í•´ ì²´í¬ë°•ìŠ¤ ìƒì„±
        sortedDomains.forEach(domain => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.value = domain;
            checkbox.onchange = filterJobs; // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³€ê²½ ì‹œ filterJobs í•¨ìˆ˜ í˜¸ì¶œ
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(` ${domain}`));
            domainFilterDiv.appendChild(label);
        });

        const searchInput = document.getElementById('domainSearch');
        searchInput.addEventListener('keyup', function() {
            const searchTerm = this.value.toLowerCase();
            const labels = document.querySelectorAll('#domainFilter label');
            labels.forEach(label => {
                const text = label.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    label.style.display = '';
                } else {
                    label.style.display = 'none';
                }
            });
        });
    }

    function filterJobs() {
        const selectedDomains = Array.from(document.querySelectorAll('#domainFilter input:checked')).map(input => input.value);
        filteredJobs = jobs.filter(job => {
            const jobDomains = job.fields['domain'] || [];
            return selectedDomains.length === 0 || selectedDomains.some(domain => jobDomains.includes(domain));
        });

        sortAndRenderTable();
    }

    function sortAndRenderTable() {
        filteredJobs.sort((a, b) => {
            // ì²« ë²ˆì§¸ ì •ë ¬ ê¸°ì¤€: 'ë“±ë¡ì¼'
            let primarySort = compareValues(a, b, sortState.column, sortState.descending);
            if (primarySort !== 0) return primarySort;

            // ë‘ ë²ˆì§¸ ì •ë ¬ ê¸°ì¤€: 'ìš”êµ¬ ê²½ë ¥'
            let secondarySort = compareValues(a, b, sortState.secondary, sortState.secondaryDescending, true);
            if (secondarySort !== 0) return secondarySort;

            // ì„¸ ë²ˆì§¸ ì •ë ¬ ê¸°ì¤€: 'íšŒì‚¬ëª…' (í…ìŠ¤íŠ¸ ìˆœì„œ)
            return compareValues(a, b, 'company', false); // 'íšŒì‚¬ëª…'ì€ í•­ìƒ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
        });

        renderTable();
    }

    // ë‚ ì§œ í˜•ì‹ì„ 'yy.mm.dd'ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
    function convertDateFormat(dateString) {
        if (!dateString) return '';
        const [year, month, day] = dateString.split('-'); // 'yyyy.mm.dd' í˜•ì‹ì„ ê°€ì •x
        return `${year.slice(2)}.${month}.${day}`; // 'yy.mm.dd' í˜•ì‹ìœ¼ë¡œ ë³€í™˜
    }


    function renderTable() {
        const tableBody = document.getElementById('jobTable').getElementsByTagName('tbody')[0];
        tableBody.innerHTML = ''; // í…Œì´ë¸” ì´ˆê¸°í™”

        filteredJobs.forEach((job, index) => {
            const row = tableBody.insertRow();
            row.className = index % 2 === 0 ? 'even-row' : 'odd-row';

            // 'ìš”êµ¬ ê²½ë ¥' ì…€ ì¶”ê°€
            const experienceText = job.fields['req(max)'] ? `${job.fields['req'] || '0'}-${job.fields['req(max)']}ë…„` : `${job.fields['req'] || '0'} ë…„`;
            row.insertCell(0).innerText = experienceText;

            // 'í¬ì§€ì…˜' ì…€ ì¶”ê°€
            const positionCell = row.insertCell(1); // ë³€ê²½: 'í¬ì§€ì…˜' ì…€ì„ ë‘ ë²ˆì§¸ë¡œ ì´ë™
            positionCell.classList.add('col-role');
            positionCell.innerText = job.fields['pos'] || '';

            // 'ë„ë©”ì¸' ì…€ ì¶”ê°€
            const domainCell = row.insertCell(2);
            (job.fields['domain'] || []).forEach(domain => {
                const domainTag = document.createElement('span');
                domainTag.classList.add('domain-tag');
                domainTag.textContent = domain;
                domainCell.appendChild(domainTag);
            });

            // 'íšŒì‚¬ëª…' ì…€ ì¶”ê°€
            const companyCell = row.insertCell(3); // ë³€ê²½: 'íšŒì‚¬ëª…' ì…€ì„ ë„¤ ë²ˆì§¸ë¡œ ì´ë™
            companyCell.classList.add('col-company');
            if (job.fields['company(url)']) {
                const companyLink = document.createElement('a');
                companyLink.href = job.fields['company(url)'];
                companyLink.target = '_blank';
                companyLink.textContent = job.fields['company'];
                companyCell.appendChild(companyLink);
            } else {
                companyCell.textContent = job.fields['company'];
            }

            // ë‚˜ë¨¸ì§€ ì¹¼ëŸ¼ ì¶”ê°€
            row.insertCell(4).innerText = job.fields['service'] || '';
            row.insertCell(5).innerText = job.fields['sorts'] || '';
            row.insertCell(6).innerText = convertDateFormat(job.fields['deadline']);

            const registrationCell = row.insertCell(7); // 'ë“±ë¡ì¼' ì…€ì„ ì¶”ê°€í•˜ëŠ” ë¶€ë¶„
            const registrationDate = new Date(job.fields['upload']);
            const dateDiff = getDateDiff(registrationDate);

            // 1~3ì¼ ì „ ë°ì´í„° ì²˜ë¦¬
            if (dateDiff > 0 && dateDiff <= 3) {
                registrationCell.innerText = `${dateDiff}ì¼ ì „`;
            } else {
                // ê¸°ì¡´ ë‚ ì§œ í˜•ì‹ ìœ ì§€
                registrationCell.innerText = convertDateFormat(job.fields['upload']);
            }



            // 'ì§ë¬´(ë§í¬)'ê°€ ìˆëŠ” ê²½ìš° í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€
            if (job.fields['position(url)']) {
                row.style.cursor = 'pointer';
                row.addEventListener('click', () => window.open(job.fields['position(url)'], '_blank'));
            }
        });
    }

    function getDateDiff(date) {
        const today = new Date();
        today.setHours(0, 0, 0, 0); // ì‹œê°„ì„ 00:00:00ìœ¼ë¡œ ì„¤ì •
        date.setHours(0, 0, 0, 0); // ì‹œê°„ì„ 00:00:00ìœ¼ë¡œ ì„¤ì •

        const diffTime = Math.abs(today - date);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // ë°€ë¦¬ì´ˆ ë‹¨ìœ„ì˜ ì°¨ì´ë¥¼ ì¼ ë‹¨ìœ„ë¡œ ë³€í™˜
        return diffDays;
    }

    function compareValues(a, b, column, descending, numeric = false) {
        let aValue = a.fields[column] || 0;
        let bValue = b.fields[column] || 0;

        // ìˆ«ìë¡œ êµ¬ì„±ëœ ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜
        if (numeric || (!isNaN(aValue) && !isNaN(bValue))) {
            aValue = parseFloat(aValue);
            bValue = parseFloat(bValue);
        }

        if (aValue < bValue) return descending ? 1 : -1;
        if (aValue > bValue) return descending ? -1 : 1;
        return 0;
    }

    function sortTable(column, element) {
        const isDescending = sortState.column === column && !sortState.descending;
        sortState = { ...sortState, column: column, descending: isDescending };

        document.querySelectorAll('.sortable').forEach(th => {
            th.classList.remove('desc');
            if (th.textContent.trim() === column && isDescending) {
                th.classList.add('desc');
            }
        });

        sortAndRenderTable();
    }


    function renderGallery() {
        const gallery = document.getElementById('jobGallery');
        gallery.innerHTML = ''; // ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™”
        gallery.style.display = 'flex'; // ê°¤ëŸ¬ë¦¬ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤

        filteredJobs.forEach(job => { // í•„í„°ë§ëœ ì§ë¬´ ëª©ë¡ì„ ìˆœíšŒ
            const card = document.createElement('div'); // ì¹´ë“œ ìš”ì†Œ ìƒì„±
            card.className = 'job-card'; // ì¹´ë“œì— í´ë˜ìŠ¤ ì´ë¦„ ì„¤ì •

            // ê²½ë ¥ ìš”ê±´
            const experience = document.createElement('p');
            const experienceText = job.fields['req(max)'] ? `${job.fields['req'] || '0'}-${job.fields['req(max)']}ë…„` : `${job.fields['req'] || '0'}ë…„`;
            experience.textContent = `ê²½ë ¥ìš”ê±´: ${experienceText}`;
            card.appendChild(experience);


            // ì§ë¬´ íƒ€ì´í‹€
            const title = document.createElement('h3');
            title.className = 'job-title';
            title.textContent = job.fields['pos'] || 'í¬ì§€ì…˜ ì •ë³´ ì—†ìŒ'; // ì§ë¬´ íƒ€ì´í‹€ ì„¤ì •
            card.appendChild(title); // ì¹´ë“œì— íƒ€ì´í‹€ ì¶”ê°€

            // íšŒì‚¬ëª…
            const company = document.createElement('p');
            company.className = 'job-company';
            company.textContent = `íšŒì‚¬ëª…: ${job.fields['company'] || 'ì •ë³´ ì—†ìŒ'}`; // íšŒì‚¬ëª… ì„¤ì •
            card.appendChild(company); // ì¹´ë“œì— íšŒì‚¬ëª… ì¶”ê°€




            // ë„ë©”ì¸ ì •ë³´
            const domainInfo = document.createElement('div');
            (job.fields['domain'] || []).forEach(domain => {
                const domainTag = document.createElement('span');
                domainTag.className = 'domain-tag';
                domainTag.textContent = domain;
                domainInfo.appendChild(domainTag);
            });
            card.appendChild(domainInfo);

                        // ì„œë¹„ìŠ¤ ì†Œê°œ
            const service = document.createElement('p');
            service.textContent = `ì„œë¹„ìŠ¤ ì†Œê°œ: ${job.fields['service'] || 'ì •ë³´ ì—†ìŒ'}`;
            card.appendChild(service);

            // êµ¬ë¶„
            const type = document.createElement('p');
            type.textContent = `êµ¬ë¶„: ${job.fields['sorts'] || 'ì •ë³´ ì—†ìŒ'}`;
            card.appendChild(type);

            // ê³µê³ ì¼
            const registrationDate = new Date(job.fields['upload']);
            const dateDiff = getDateDiff(registrationDate);
            const registrationInfo = document.createElement('p');
            if (dateDiff > 0 && dateDiff <= 3) {
                registrationInfo.textContent = `ë“±ë¡ì¼: ${dateDiff}ì¼ ì „`;
            } else {
                registrationInfo.textContent = `ë“±ë¡ì¼: ${convertDateFormat(job.fields['upload'])}`;
            }
            card.appendChild(registrationInfo);

            // ë§ˆê°ì¼
            const deadline = document.createElement('p');
            deadline.textContent = `ë§ˆê°ì¼: ${convertDateFormat(job.fields['deadline'])}`;
            card.appendChild(deadline);


            // ê°¤ëŸ¬ë¦¬ ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
            if (job.fields['position(url)']) {
                card.addEventListener('click', () => {
                    window.open(job.fields['position(url)'], '_blank');
                });
            }
            gallery.appendChild(card); // ê°¤ëŸ¬ë¦¬ì— ì¹´ë“œ ì¶”ê°€
        });

    }


        loadJobs();
        // ë„ë©”ì¸ í•„í„° ì„¹ì…˜ì˜ ë„ˆë¹„ë¥¼ í…Œì´ë¸”ì˜ ë„ˆë¹„ì™€ ë™ì¼í•˜ê²Œ ì„¤ì •








    function adjustDomainFilterWidth() {
        // í…Œì´ë¸” ìš”ì†Œ ì„ íƒ
        var table = document.getElementById('jobTable');
        // ë„ë©”ì¸ í•„í„° ìš”ì†Œ ì„ íƒ
        var domainFilter = document.getElementById('domainFilter');

        // í…Œì´ë¸”ì˜ í˜„ì¬ ë„ˆë¹„ ê°€ì ¸ì˜¤ê¸°
        var tableWidth = table.offsetWidth;

    }



</script>
</body>
</html>
